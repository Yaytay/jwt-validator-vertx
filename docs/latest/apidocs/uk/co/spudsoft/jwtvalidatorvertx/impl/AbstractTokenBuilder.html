<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Mon Dec 04 11:12:22 UTC 2023 -->
<title>AbstractTokenBuilder (JWT Validator - Vertx 0.0.24 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-12-04">
<meta name="description" content="declaration: package: uk.co.spudsoft.jwtvalidatorvertx.impl, class: AbstractTokenBuilder">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/AbstractTokenBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">uk.co.spudsoft.jwtvalidatorvertx.impl</a></div>
<h1 title="Class AbstractTokenBuilder" class="title">Class AbstractTokenBuilder</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">uk.co.spudsoft.jwtvalidatorvertx.impl.AbstractTokenBuilder</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../jdk/JdkTokenBuilder.html" title="class in uk.co.spudsoft.jwtvalidatorvertx.jdk">JdkTokenBuilder</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">AbstractTokenBuilder</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></span></div>
<div class="block">Abstract implementation of TokenBuilder.
 <p>
 The actual creation of keys is left to a subclass to implement.
 <p>
 This class can perform all the work of a TokenBuilder implementation apart from the generation of keys, however most methods
 are designed to be overrideable so that a specific implementation can do something different if that is useful.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>jtalbut</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Base64.Encoder.html" title="class or interface in java.util" class="external-link">Base64.Encoder</a></code></div>
<div class="col-second even-row-color"><code><a href="#BASE64" class="member-name-link">BASE64</a></code></div>
<div class="col-last even-row-color">
<div class="block">Base64 encoded that implementations may (should) use.</div>
</div>
<div class="col-first odd-row-color"><code>protected final com.google.common.cache.Cache<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../AlgorithmAndKeyPair.html" title="class in uk.co.spudsoft.jwtvalidatorvertx">AlgorithmAndKeyPair</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#keyCache" class="member-name-link">keyCache</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The key cache that is shared with the <a href="../JwksHandler.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx"><code>JwksHandler</code></a>.</div>
</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/SecureRandom.html" title="class or interface in java.security" class="external-link">SecureRandom</a></code></div>
<div class="col-second even-row-color"><code><a href="#RANDOM" class="member-name-link">RANDOM</a></code></div>
<div class="col-last even-row-color">
<div class="block">Secure random number generator that implementations may  use.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.google.common.cache.Cache)" class="member-name-link">AbstractTokenBuilder</a><wbr>(com.google.common.cache.Cache&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../AlgorithmAndKeyPair.html" title="class in uk.co.spudsoft.jwtvalidatorvertx">AlgorithmAndKeyPair</a>&gt;&nbsp;keyCache)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#base64Claims(io.vertx.core.json.JsonObject)" class="member-name-link">base64Claims</a><wbr>(io.vertx.core.json.JsonObject&nbsp;claims)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method to convert the payload to base64, possibly breaking it.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#base64Header(io.vertx.core.json.JsonObject)" class="member-name-link">base64Header</a><wbr>(io.vertx.core.json.JsonObject&nbsp;header)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method to convert the header to base64, possibly breaking it.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#base64JSon(boolean,boolean,io.vertx.core.json.JsonObject)" class="member-name-link">base64JSon</a><wbr>(boolean&nbsp;notJson,
 boolean&nbsp;brokenBase64,
 io.vertx.core.json.JsonObject&nbsp;json)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method to convert a JsonObject into a base64 representation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#base64Signature(byte%5B%5D)" class="member-name-link">base64Signature</a><wbr>(byte[]&nbsp;signature)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method to base6t4 encode the signature, possibly breaking it.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#buildToken(uk.co.spudsoft.jwtvalidatorvertx.JsonWebAlgorithm,java.lang.String,java.lang.String,java.lang.String,java.util.List,java.lang.Long,java.lang.Long,java.util.Map)" class="member-name-link">buildToken</a><wbr>(<a href="../JsonWebAlgorithm.html" title="enum class in uk.co.spudsoft.jwtvalidatorvertx">JsonWebAlgorithm</a>&nbsp;jwa,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;kid,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;iss,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sub,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;aud,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;nbf,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;exp,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;otherClaims)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Construct a JWT.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#constructToken(java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">constructToken</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;headerBase64,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;claimsBase64,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;signatureBase64)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method to concatenate the three parts of the token.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected io.vertx.core.json.JsonObject</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#generateClaimsNode(java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.util.List,java.util.Map)" class="member-name-link">generateClaimsNode</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;iss,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sub,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;exp,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;nbf,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;aud,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;otherClaims)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method to build the payload for a token.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected io.vertx.core.json.JsonObject</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#generateHeaderNode(java.lang.String,uk.co.spudsoft.jwtvalidatorvertx.JsonWebAlgorithm)" class="member-name-link">generateHeaderNode</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;kid,
 <a href="../JsonWebAlgorithm.html" title="enum class in uk.co.spudsoft.jwtvalidatorvertx">JsonWebAlgorithm</a>&nbsp;algorithm)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method to generate the token header node.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract byte[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#generateSignature(java.lang.String,uk.co.spudsoft.jwtvalidatorvertx.JsonWebAlgorithm,java.lang.String,java.lang.String)" class="member-name-link">generateSignature</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;kid,
 <a href="../JsonWebAlgorithm.html" title="enum class in uk.co.spudsoft.jwtvalidatorvertx">JsonWebAlgorithm</a>&nbsp;algorithm,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;headerBase64,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;claimsBase64)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sign the token header and claims using the specified key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setHeaderNotJson(boolean)" class="member-name-link">setHeaderNotJson</a><wbr>(boolean&nbsp;headerNotJson)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If set the header will not be valid base 64.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setHeaderNotValidBase64(boolean)" class="member-name-link">setHeaderNotValidBase64</a><wbr>(boolean&nbsp;headerNotValidBase64)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If set the header will not be valid base 64.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setKidInvalid(boolean)" class="member-name-link">setKidInvalid</a><wbr>(boolean&nbsp;kidInvalid)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If set the kid in the token will be set to 'INVALID'.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setPayloadNotJson(boolean)" class="member-name-link">setPayloadNotJson</a><wbr>(boolean&nbsp;payloadNotJson)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If set the payload will not be valid base 64.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setPayloadNotValidBase64(boolean)" class="member-name-link">setPayloadNotValidBase64</a><wbr>(boolean&nbsp;payloadNotValidBase64)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If set the payload will not be valid base 64.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSignatureNotValidBase64(boolean)" class="member-name-link">setSignatureNotValidBase64</a><wbr>(boolean&nbsp;signatureNotValidBase64)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If set the signature will not be valid base 64.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSignatureNotValidHash(boolean)" class="member-name-link">setSignatureNotValidHash</a><wbr>(boolean&nbsp;signatureNotValidHash)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If set the signature will not be a valid hash of the contents.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="BASE64">
<h3>BASE64</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Base64.Encoder.html" title="class or interface in java.util" class="external-link">Base64.Encoder</a></span>&nbsp;<span class="element-name">BASE64</span></div>
<div class="block">Base64 encoded that implementations may (should) use.</div>
</section>
</li>
<li>
<section class="detail" id="RANDOM">
<h3>RANDOM</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/SecureRandom.html" title="class or interface in java.security" class="external-link">SecureRandom</a></span>&nbsp;<span class="element-name">RANDOM</span></div>
<div class="block">Secure random number generator that implementations may  use.</div>
</section>
</li>
<li>
<section class="detail" id="keyCache">
<h3>keyCache</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">com.google.common.cache.Cache&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../AlgorithmAndKeyPair.html" title="class in uk.co.spudsoft.jwtvalidatorvertx">AlgorithmAndKeyPair</a>&gt;</span>&nbsp;<span class="element-name">keyCache</span></div>
<div class="block">The key cache that is shared with the <a href="../JwksHandler.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx"><code>JwksHandler</code></a>.
 <p>
 Note that it is the TokenBuilder that is responsible for causing keys to be created and cached, the 
 <a href="../JwksHandler.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx"><code>JwksHandler</code></a> just makes them available.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.google.common.cache.Cache)">
<h3>AbstractTokenBuilder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AbstractTokenBuilder</span><wbr><span class="parameters">(com.google.common.cache.Cache&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../AlgorithmAndKeyPair.html" title="class in uk.co.spudsoft.jwtvalidatorvertx">AlgorithmAndKeyPair</a>&gt;&nbsp;keyCache)</span></div>
<div class="block">Constructor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>keyCache</code> - The key cache that is shared with the <a href="../JwksHandler.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx"><code>JwksHandler</code></a>.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setHeaderNotValidBase64(boolean)">
<h3>setHeaderNotValidBase64</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></span>&nbsp;<span class="element-name">setHeaderNotValidBase64</span><wbr><span class="parameters">(boolean&nbsp;headerNotValidBase64)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../TokenBuilder.html#setHeaderNotValidBase64(boolean)">TokenBuilder</a></code></span></div>
<div class="block">If set the header will not be valid base 64.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TokenBuilder.html#setHeaderNotValidBase64(boolean)">setHeaderNotValidBase64</a></code>&nbsp;in interface&nbsp;<code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></dd>
<dt>Parameters:</dt>
<dd><code>headerNotValidBase64</code> - If true the header will not be valid base 64 (it will have one character removed from the end).</dd>
<dt>Returns:</dt>
<dd>this, so that the method may be used in a fluent manner.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setPayloadNotValidBase64(boolean)">
<h3>setPayloadNotValidBase64</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></span>&nbsp;<span class="element-name">setPayloadNotValidBase64</span><wbr><span class="parameters">(boolean&nbsp;payloadNotValidBase64)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../TokenBuilder.html#setPayloadNotValidBase64(boolean)">TokenBuilder</a></code></span></div>
<div class="block">If set the payload will not be valid base 64.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TokenBuilder.html#setPayloadNotValidBase64(boolean)">setPayloadNotValidBase64</a></code>&nbsp;in interface&nbsp;<code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></dd>
<dt>Parameters:</dt>
<dd><code>payloadNotValidBase64</code> - If true the payload will not be valid base 64 (it will have one character removed from the end).</dd>
<dt>Returns:</dt>
<dd>this, so that the method may be used in a fluent manner.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setSignatureNotValidBase64(boolean)">
<h3>setSignatureNotValidBase64</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></span>&nbsp;<span class="element-name">setSignatureNotValidBase64</span><wbr><span class="parameters">(boolean&nbsp;signatureNotValidBase64)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../TokenBuilder.html#setSignatureNotValidBase64(boolean)">TokenBuilder</a></code></span></div>
<div class="block">If set the signature will not be valid base 64.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TokenBuilder.html#setSignatureNotValidBase64(boolean)">setSignatureNotValidBase64</a></code>&nbsp;in interface&nbsp;<code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></dd>
<dt>Parameters:</dt>
<dd><code>signatureNotValidBase64</code> - If true the signature will not be valid base 64 (it will have one character removed from the end).</dd>
<dt>Returns:</dt>
<dd>this, so that the method may be used in a fluent manner.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setHeaderNotJson(boolean)">
<h3>setHeaderNotJson</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></span>&nbsp;<span class="element-name">setHeaderNotJson</span><wbr><span class="parameters">(boolean&nbsp;headerNotJson)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../TokenBuilder.html#setHeaderNotJson(boolean)">TokenBuilder</a></code></span></div>
<div class="block">If set the header will not be valid base 64.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TokenBuilder.html#setHeaderNotJson(boolean)">setHeaderNotJson</a></code>&nbsp;in interface&nbsp;<code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></dd>
<dt>Parameters:</dt>
<dd><code>headerNotJson</code> - If true the header will not be valid JSON (strings will have quotes stripped from them).</dd>
<dt>Returns:</dt>
<dd>this, so that the method may be used in a fluent manner.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setPayloadNotJson(boolean)">
<h3>setPayloadNotJson</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></span>&nbsp;<span class="element-name">setPayloadNotJson</span><wbr><span class="parameters">(boolean&nbsp;payloadNotJson)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../TokenBuilder.html#setPayloadNotJson(boolean)">TokenBuilder</a></code></span></div>
<div class="block">If set the payload will not be valid base 64.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TokenBuilder.html#setPayloadNotJson(boolean)">setPayloadNotJson</a></code>&nbsp;in interface&nbsp;<code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></dd>
<dt>Parameters:</dt>
<dd><code>payloadNotJson</code> - If true the payload will not be valid JSON (strings will have quotes stripped from them).</dd>
<dt>Returns:</dt>
<dd>this, so that the method may be used in a fluent manner.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setSignatureNotValidHash(boolean)">
<h3>setSignatureNotValidHash</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></span>&nbsp;<span class="element-name">setSignatureNotValidHash</span><wbr><span class="parameters">(boolean&nbsp;signatureNotValidHash)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../TokenBuilder.html#setSignatureNotValidHash(boolean)">TokenBuilder</a></code></span></div>
<div class="block">If set the signature will not be a valid hash of the contents.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TokenBuilder.html#setSignatureNotValidHash(boolean)">setSignatureNotValidHash</a></code>&nbsp;in interface&nbsp;<code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></dd>
<dt>Parameters:</dt>
<dd><code>signatureNotValidHash</code> - If true signature will not be a valid hash of the contents (the final byte will be stripped).</dd>
<dt>Returns:</dt>
<dd>this, so that the method may be used in a fluent manner.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setKidInvalid(boolean)">
<h3>setKidInvalid</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></span>&nbsp;<span class="element-name">setKidInvalid</span><wbr><span class="parameters">(boolean&nbsp;kidInvalid)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../TokenBuilder.html#setKidInvalid(boolean)">TokenBuilder</a></code></span></div>
<div class="block">If set the kid in the token will be set to 'INVALID'.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TokenBuilder.html#setKidInvalid(boolean)">setKidInvalid</a></code>&nbsp;in interface&nbsp;<code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></dd>
<dt>Parameters:</dt>
<dd><code>kidInvalid</code> - If true the kid in the token will be set to 'INVALID'.</dd>
<dt>Returns:</dt>
<dd>this, so that the method may be used in a fluent manner.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buildToken(uk.co.spudsoft.jwtvalidatorvertx.JsonWebAlgorithm,java.lang.String,java.lang.String,java.lang.String,java.util.List,java.lang.Long,java.lang.Long,java.util.Map)">
<h3>buildToken</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">buildToken</span><wbr><span class="parameters">(<a href="../JsonWebAlgorithm.html" title="enum class in uk.co.spudsoft.jwtvalidatorvertx">JsonWebAlgorithm</a>&nbsp;jwa,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;kid,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;iss,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sub,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;aud,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;nbf,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;exp,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;otherClaims)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../TokenBuilder.html#buildToken(uk.co.spudsoft.jwtvalidatorvertx.JsonWebAlgorithm,java.lang.String,java.lang.String,java.lang.String,java.util.List,java.lang.Long,java.lang.Long,java.util.Map)">TokenBuilder</a></code></span></div>
<div class="block">Construct a JWT.
 If any of the testing methods are set the resulting token will be invalid.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TokenBuilder.html#buildToken(uk.co.spudsoft.jwtvalidatorvertx.JsonWebAlgorithm,java.lang.String,java.lang.String,java.lang.String,java.util.List,java.lang.Long,java.lang.Long,java.util.Map)">buildToken</a></code>&nbsp;in interface&nbsp;<code><a href="../TokenBuilder.html" title="interface in uk.co.spudsoft.jwtvalidatorvertx">TokenBuilder</a></code></dd>
<dt>Parameters:</dt>
<dd><code>jwa</code> - The algorithm to use to create the key if the key does not already exist in the cache.
 If the key is already in ths cache then the jwa is only used to set the "alg" header claim.
 If it permitted to use the <a href="../JsonWebAlgorithm.html#none"><code>JsonWebAlgorithm.none</code></a> algorithm to generate the token, but this should only be done for testing and all validators will reject it.</dd>
<dd><code>kid</code> - The ID of the key to use to sign the token, may be null if (and only if) the jwa is <a href="../JsonWebAlgorithm.html#none"><code>JsonWebAlgorithm.none</code></a>.</dd>
<dd><code>iss</code> - The issuer to put in the payload claims.</dd>
<dd><code>sub</code> - The subject to put in the payload claims.</dd>
<dd><code>aud</code> - The audience to put in the payload claims.v</dd>
<dd><code>nbf</code> - The not-before to put in the payload claims.</dd>
<dd><code>exp</code> - The expiry to put in the payload claims.</dd>
<dd><code>otherClaims</code> - Other claims to put in the payload.</dd>
<dt>Returns:</dt>
<dd>A fully constructed and signed JWS (that may be broken in various ways if other settings are set).</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - If the security subsystem is unable to carry out required operations.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="generateHeaderNode(java.lang.String,uk.co.spudsoft.jwtvalidatorvertx.JsonWebAlgorithm)">
<h3>generateHeaderNode</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">io.vertx.core.json.JsonObject</span>&nbsp;<span class="element-name">generateHeaderNode</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;kid,
 <a href="../JsonWebAlgorithm.html" title="enum class in uk.co.spudsoft.jwtvalidatorvertx">JsonWebAlgorithm</a>&nbsp;algorithm)</span></div>
<div class="block">Helper method to generate the token header node.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>kid</code> - The key ID.</dd>
<dd><code>algorithm</code> - The algorithm.</dd>
<dt>Returns:</dt>
<dd>The created JsonObject header node.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="generateClaimsNode(java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.util.List,java.util.Map)">
<h3>generateClaimsNode</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">io.vertx.core.json.JsonObject</span>&nbsp;<span class="element-name">generateClaimsNode</span><wbr><span class="parameters">(@Nullable
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;iss,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sub,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;exp,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;nbf,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;aud,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;otherClaims)</span></div>
<div class="block">Helper method to build the payload for a token.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>iss</code> - The iss (issuer) claim.</dd>
<dd><code>sub</code> - The sub (subject) claim.</dd>
<dd><code>exp</code> - The exp (expiry) claim.</dd>
<dd><code>nbf</code> - The nbf (not before) claim.</dd>
<dd><code>aud</code> - The aud (audience) claim.</dd>
<dd><code>otherClaims</code> - Map of other claims that are to be added.
 Any claims in otherClaims will override anything else added to the claims.</dd>
<dt>Returns:</dt>
<dd>a JsonObject of the payload for a token.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="base64JSon(boolean,boolean,io.vertx.core.json.JsonObject)">
<h3>base64JSon</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">base64JSon</span><wbr><span class="parameters">(boolean&nbsp;notJson,
 boolean&nbsp;brokenBase64,
 io.vertx.core.json.JsonObject&nbsp;json)</span></div>
<div class="block">Helper method to convert a JsonObject into a base64 representation.
 Optionally provides two ways in which the result can be invalidated.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>notJson</code> - If the JSON should be broken before the base64 encoding.</dd>
<dd><code>brokenBase64</code> - The the base64 encoding should be broken.</dd>
<dd><code>json</code> - The JSON to be encoded.</dd>
<dt>Returns:</dt>
<dd>The JSON encoded as base64 (possibly broken).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="base64Header(io.vertx.core.json.JsonObject)">
<h3>base64Header</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">base64Header</span><wbr><span class="parameters">(io.vertx.core.json.JsonObject&nbsp;header)</span></div>
<div class="block">Helper method to convert the header to base64, possibly breaking it.
 Uses the headerNotJson and headerNotValidBase64 fields to determine whether the result should be valid.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>header</code> - The header to convert.</dd>
<dt>Returns:</dt>
<dd>The JSON encoded as base64 (possibly broken).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="base64Claims(io.vertx.core.json.JsonObject)">
<h3>base64Claims</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">base64Claims</span><wbr><span class="parameters">(io.vertx.core.json.JsonObject&nbsp;claims)</span></div>
<div class="block">Helper method to convert the payload to base64, possibly breaking it.
 Uses the payloadNotJson and payloadNotValidBase64 fields to determine whether the result should be valid.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>claims</code> - The claims to convert.</dd>
<dt>Returns:</dt>
<dd>The JSON encoded as base64 (possibly broken).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="generateSignature(java.lang.String,uk.co.spudsoft.jwtvalidatorvertx.JsonWebAlgorithm,java.lang.String,java.lang.String)">
<h3>generateSignature</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">generateSignature</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;kid,
 <a href="../JsonWebAlgorithm.html" title="enum class in uk.co.spudsoft.jwtvalidatorvertx">JsonWebAlgorithm</a>&nbsp;algorithm,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;headerBase64,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;claimsBase64)</span>
                                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Sign the token header and claims using the specified key.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>kid</code> - The key to use to sign the header and claims, if this key is not found in the cache it will be generated.</dd>
<dd><code>algorithm</code> - The algorithm to use to generate the key, if it is not found in the cache.</dd>
<dd><code>headerBase64</code> - The header to include in the signature.</dd>
<dd><code>claimsBase64</code> - The claims to include in the signature.</dd>
<dt>Returns:</dt>
<dd>The signature of the header and claims.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - If the security subsystem is unable to complete the operation.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="base64Signature(byte[])">
<h3>base64Signature</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">base64Signature</span><wbr><span class="parameters">(byte[]&nbsp;signature)</span></div>
<div class="block">Helper method to base6t4 encode the signature, possibly breaking it.
 Uses the signatureNotValidBase64 fields to determine whether the result should be valid.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signature</code> - The signature of the header and payload.</dd>
<dt>Returns:</dt>
<dd>The base64 encoded signature.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="constructToken(java.lang.String,java.lang.String,java.lang.String)">
<h3>constructToken</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">constructToken</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;headerBase64,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;claimsBase64,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;signatureBase64)</span></div>
<div class="block">Helper method to concatenate the three parts of the token.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>headerBase64</code> - The header, base 64 encoded.</dd>
<dd><code>claimsBase64</code> - The claims, base 64 encoded.</dd>
<dd><code>signatureBase64</code> - The signature, base 64 encoded.</dd>
<dt>Returns:</dt>
<dd>The final JWS.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
